{"version":3,"file":"window-table.cjs.development.js","sources":["../src/AutoSizer/detectElementResize.ts","../src/AutoSizer/index.tsx","../src/Measurer.tsx","../src/helpers/areTablePropsEqual.ts","../src/WindowTable.tsx","../src/Html5Table.tsx","../src/filters.tsx"],"sourcesContent":["/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\nexport default function createDetectElementResize(nonce: any) {\n  // Check `document` and `window` in case of server-side rendering\n  const _window = typeof window !== 'undefined' ? window : global;\n\n  const requestFrame = (fn: any) =>\n    (\n      _window.requestAnimationFrame || ((fn: any) => _window.setTimeout(fn, 20))\n    )(fn);\n\n  const cancelFrame = (id: any) =>\n    (_window.cancelAnimationFrame || _window.clearTimeout)(id);\n\n  const resetTriggers = function(element: any) {\n    const triggers = element.__resizeTriggers__,\n      expand = triggers.firstElementChild,\n      contract = triggers.lastElementChild,\n      expandChild = expand.firstElementChild;\n    contract.scrollLeft = contract.scrollWidth;\n    contract.scrollTop = contract.scrollHeight;\n    expandChild.style.width = `${expand.offsetWidth + 1}px`;\n    expandChild.style.height = `${expand.offsetHeight + 1}px`;\n    expand.scrollLeft = expand.scrollWidth;\n    expand.scrollTop = expand.scrollHeight;\n  };\n\n  const checkTriggers = function(element: any) {\n    return (\n      element.offsetWidth !== element.__resizeLast__.width ||\n      element.offsetHeight !== element.__resizeLast__.height\n    );\n  };\n\n  const scrollListener = function(\n    this: HTMLElement & {\n      __resizeRAF__: number;\n      __resizeLast__: any;\n      __resizeListeners__: any[];\n    },\n    e: any\n  ) {\n    // Don't measure (which forces) reflow for scrolls that happen inside of children!\n    if (\n      e.target.className.indexOf('contract-trigger') < 0 &&\n      e.target.className.indexOf('expand-trigger') < 0\n    ) {\n      return;\n    }\n\n    resetTriggers(this);\n    if (this.__resizeRAF__) {\n      cancelFrame(this.__resizeRAF__);\n    }\n    this.__resizeRAF__ = requestFrame(() => {\n      if (checkTriggers(this)) {\n        this.__resizeLast__.width = this.offsetWidth;\n        this.__resizeLast__.height = this.offsetHeight;\n        this.__resizeListeners__.forEach((fn: any) => {\n          fn.call(this, e);\n        });\n      }\n    });\n  };\n\n  const createStyles = function(doc: any) {\n    if (!doc.getElementById('detectElementResize')) {\n      const css = `\n        .resize-triggers {\n          visibility: hidden;\n        }\n        .resize-triggers, .resize-triggers > div,\n        .contract-trigger:before {\n          content: \" \";\n          display: block;\n          position: absolute;\n          top: 0;\n          left: 0;\n          height: 100%;\n          width: 100%;\n          overflow:\n          hidden; z-index: -1;\n        }\n        .resize-triggers > div {\n          background: #eee;\n          overflow: auto;\n        }\n        .contract-trigger:before {\n          width: 200%;\n          height: 200%;\n        }\n        `,\n        head = doc.head || doc.getElementsByTagName('head')[0],\n        style = doc.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  const addResizeListener = function(element: any, fn: any) {\n    if (!element.__resizeTriggers__) {\n      const doc = element.ownerDocument;\n      const elementStyle = _window.getComputedStyle(element);\n      if (elementStyle && elementStyle.position === 'static') {\n        element.style.position = 'relative';\n      }\n      createStyles(doc);\n      element.__resizeLast__ = {};\n      element.__resizeListeners__ = [];\n      (element.__resizeTriggers__ = doc.createElement('div')).className =\n        'resize-triggers';\n      element.__resizeTriggers__.innerHTML =\n        '<div class=\"expand-trigger\"><div></div></div>' +\n        '<div class=\"contract-trigger\"></div>';\n      element.appendChild(element.__resizeTriggers__);\n      resetTriggers(element);\n      element.addEventListener('scroll', scrollListener, true);\n    }\n    element.__resizeListeners__.push(fn);\n  };\n\n  const removeResizeListener = function(element: any, fn: any) {\n    element.__resizeListeners__.splice(\n      element.__resizeListeners__.indexOf(fn),\n      1\n    );\n    if (!element.__resizeListeners__.length) {\n      element.removeEventListener('scroll', scrollListener, true);\n      if (element.__resizeTriggers__.__animationListener__) {\n        element.__resizeTriggers__.__animationListener__ = null;\n      }\n      try {\n        element.__resizeTriggers__ = !element.removeChild(\n          element.__resizeTriggers__\n        );\n      } catch (e) {\n        // Preact compat; see developit/preact-compat/issues/228\n      }\n    }\n  };\n\n  return {\n    addResizeListener,\n    removeResizeListener,\n  };\n}\n","import * as React from 'react';\n// @ts-ignore\nimport createDetectElementResize from './detectElementResize';\n\ntype Size = {\n  height: number;\n  width: number;\n};\n\ntype Props = {\n  onResize: (Size: Size) => void;\n  innerElementType: any;\n};\n\ntype State = {\n  height: number;\n  width: number;\n};\n\ntype ResizeHandler = (element?: HTMLElement, onResize?: () => void) => void;\n\ntype DetectElementResize = {\n  addResizeListener: ResizeHandler;\n  removeResizeListener: ResizeHandler;\n};\n\nexport default class AutoSizer extends React.PureComponent<Props, State> {\n  static defaultProps = {\n    onResize: () => {},\n  };\n\n  state = {\n    height: 0,\n    width: 0,\n  };\n\n  _parentNode?: HTMLElement;\n  _autoSizer?: HTMLElement | any;\n  // @ts-ignore\n  _detectElementResize: DetectElementResize;\n\n  componentDidMount() {\n    if (\n      this._autoSizer &&\n      this._autoSizer.parentNode &&\n      this._autoSizer.parentNode.ownerDocument &&\n      this._autoSizer.parentNode.ownerDocument.defaultView &&\n      this._autoSizer.parentNode instanceof\n        this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement\n    ) {\n      // Delay access of parentNode until mount.\n      // This handles edge-cases where the component has already been unmounted before its ref has been set,\n      // As well as libraries like react-lite which have a slightly different lifecycle.\n      this._parentNode = this._autoSizer.parentNode;\n\n      // Defer requiring resize handler in order to support server-side rendering.\n      // See issue #41\n      this._detectElementResize = createDetectElementResize('');\n      this._detectElementResize.addResizeListener(\n        this._parentNode,\n        this._onResize\n      );\n\n      this._onResize();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._detectElementResize && this._parentNode) {\n      this._detectElementResize.removeResizeListener(\n        this._parentNode,\n        this._onResize\n      );\n    }\n  }\n\n  render() {\n    // Outer div should not force width/height since that may prevent containers from shrinking.\n    // Inner component should overflow and use calculated width/height.\n    // See issue #68 for more information.\n    const outerStyle: any = { overflow: 'visible' };\n\n    outerStyle.height = 0;\n    outerStyle.width = 0;\n\n    const Component = this.props.innerElementType || 'div';\n\n    return <Component ref={this._setRef as any} style={outerStyle} />;\n  }\n\n  _onResize = () => {\n    const { onResize } = this.props;\n\n    if (this._parentNode) {\n      // Guard against AutoSizer component being removed from the DOM immediately after being added.\n      // This can result in invalid style values which can result in NaN values if we don't handle them.\n      // See issue #150 for more context.\n\n      const height = this._parentNode.offsetHeight || 0;\n      const width = this._parentNode.offsetWidth || 0;\n\n      const style = (window.getComputedStyle(this._parentNode) || {}) as any;\n      const paddingLeft = parseInt(style.paddingLeft, 10) || 0;\n      const paddingRight = parseInt(style.paddingRight, 10) || 0;\n      const paddingTop = parseInt(style.paddingTop, 10) || 0;\n      const paddingBottom = parseInt(style.paddingBottom, 10) || 0;\n\n      const newHeight = height - paddingTop - paddingBottom;\n      const newWidth = width - paddingLeft - paddingRight;\n\n      if (this.state.height !== newHeight || this.state.width !== newWidth) {\n        this.setState({\n          height: height - paddingTop - paddingBottom,\n          width: width - paddingLeft - paddingRight,\n        });\n\n        onResize({ height, width });\n      }\n    }\n  };\n\n  _setRef = (autoSizer?: HTMLElement) => {\n    this._autoSizer = autoSizer;\n  };\n}\n","import * as React from 'react';\nimport debounce from 'lodash.debounce';\nimport AutoSizer from './AutoSizer';\nimport { MeasureAction, ReducerState, TableEntity } from './core/types';\n\nconst { useMemo, useReducer } = React;\n\n// Define the initial state of dimensions\n// Also to be used as a state which will not trigger a re-render on changes\n// So that we can change state from the useReducer, only when required\nlet cache: ReducerState = {\n  header: [0, 0],\n  row: [0, 0],\n  table: [0, 0],\n};\n\nexport const reducer: React.Reducer<ReducerState, MeasureAction> = (\n  state,\n  { entity, dimensions }\n) => {\n  if (entity) {\n    // Keep updates in cache\n    cache = { ...cache, [entity]: dimensions };\n    if (JSON.stringify(state[entity]) !== JSON.stringify(cache[entity])) {\n      return cache;\n    }\n  }\n  return state;\n};\n\nexport const Measurer: React.FunctionComponent<{\n  measure: React.Dispatch<MeasureAction>;\n  entity: TableEntity;\n  debounceWait: number;\n  innerElementType?: any;\n}> = ({ measure, entity, debounceWait, innerElementType = 'div' }) => {\n  const debounced = useMemo(\n    () => debounce(measure, debounceWait, { leading: true }),\n    [measure, debounceWait]\n  );\n  const dispatch = debounceWait > 0 ? debounced : measure;\n  return (\n    <AutoSizer\n      innerElementType={innerElementType}\n      onResize={({ height, width }: { height: number; width: number }) => {\n        dispatch({ dimensions: [height, width], entity });\n      }}\n    />\n  );\n};\n\nexport const useTableMeasurer = () => {\n  return useReducer(reducer, cache);\n};\n","const objectProps = ['style', 'sampleRow'];\nconst otherProps = [\n  'columns',\n  'data',\n  'rowHeight',\n  'height',\n  'width',\n  'className',\n  'rowClassName',\n  'classNamePrefix',\n];\n\nexport function areTablePropsEqual(prev: any, next: any) {\n  const areObjectPropsEqual = objectProps.every(propName => {\n    return JSON.stringify(prev[propName]) === JSON.stringify(next[propName]);\n  });\n  if (!areObjectPropsEqual) {\n    return false;\n  }\n  return otherProps.every(propName => prev[propName] === next[propName]);\n}\n","import * as React from 'react';\nimport ReactWindow, { VariableSizeList, areEqual } from 'react-window';\nimport { Measurer, useTableMeasurer } from './Measurer';\nimport {\n  Column,\n  WindowTableProps,\n  RowCellsProps,\n  HeaderRowProps,\n} from './core/types';\nimport { areTablePropsEqual } from './helpers/areTablePropsEqual';\nimport {\n  ReactElement,\n  useRef,\n  useContext,\n  createContext,\n  memo,\n  useMemo,\n  useState,\n  useEffect,\n  useCallback,\n} from 'react';\n\nconst TableContext = createContext({\n  columns: [] as Column<any, any>[],\n  data: [] as any[],\n  Cell: 'div' as React.ElementType,\n  Row: 'div' as React.ElementType,\n  Table: 'div' as React.ElementType,\n  Body: 'div' as React.ElementType,\n  classNamePrefix: '',\n  tableClassName: '',\n  rowClassName: '' as string | Function,\n  rowWidthOffset: 0,\n  setSize: (() => ({})) as any,\n  variableSizeRows: false as boolean,\n});\n\nconst RowCells = ({\n  columns,\n  classNamePrefix,\n  datum,\n  Cell,\n  index = 0,\n  setSize,\n}: RowCellsProps) => {\n  return (\n    <>\n      {columns.map((column, i) => {\n        const { key, width, Component = 'div' } = column;\n        // Using i as the key, because it doesn't matter much,\n        // as we are only looping through columns in one row only\n        const extraProps =\n          typeof Component === 'string'\n            ? {}\n            : {\n                row: datum,\n                column,\n                index,\n                setSize: setSize || (() => {}),\n              };\n        return (\n          <Cell\n            key={i}\n            style={{\n              width: `${width}px`,\n              flexGrow: width,\n              display: 'inline-block',\n              boxSizing: 'border-box',\n            }}\n            className={`${classNamePrefix}table-cell`}\n            row={datum}\n            column={column}\n            index={index}\n          >\n            <Component {...extraProps}>{datum[key]}</Component>\n          </Cell>\n        );\n      })}\n    </>\n  );\n};\n\nconst RowRenderer: React.FunctionComponent<ReactWindow.ListChildComponentProps> = ({\n  index,\n  style,\n}) => {\n  const {\n    columns,\n    data,\n    Cell,\n    classNamePrefix,\n    Row,\n    rowClassName,\n    setSize,\n    variableSizeRows,\n  } = useContext(TableContext);\n\n  const rowClassNameStr = useMemo(\n    () =>\n      typeof rowClassName === 'function' ? rowClassName(index) : rowClassName,\n    [index, rowClassName]\n  );\n\n  const setSizeRef = useRef(setSize);\n  const setSizeCb = useCallback(() => {\n    if (!variableSizeRows && index !== 0) {\n      return;\n    }\n    const el = document.querySelector(`#window-table-row-ref-${index}`);\n    if (!el) {\n      return;\n    }\n\n    if (el.scrollHeight > el.getBoundingClientRect().height) {\n      setSizeRef.current(index, el?.scrollHeight + 1 || 0);\n    }\n  }, [index, variableSizeRows]);\n\n  useEffect(() => {\n    setTimeout(() => {\n      setSizeCb();\n    }, 0);\n  }, [index, style.height, setSizeCb]);\n\n  return (\n    <Row\n      id={`window-table-row-ref-${index}`}\n      style={{\n        ...style,\n        display: 'flex',\n        overflow: 'auto',\n      }}\n      className={`${classNamePrefix}${rowClassNameStr} ${classNamePrefix}${rowClassNameStr}-${index}`}\n      index={index}\n      row={data[index]}\n    >\n      <RowCells\n        datum={data[index]}\n        Cell={Cell}\n        classNamePrefix={classNamePrefix}\n        columns={columns}\n        index={index}\n        setSize={setSizeCb}\n      />\n    </Row>\n  );\n};\nconst MemoRowRenderer = memo(RowRenderer, areEqual);\n\nconst HeaderRowRenderer: React.FunctionComponent<HeaderRowProps> = ({\n  Header,\n  HeaderRow,\n  HeaderCell: DefaultHeaderCell,\n  children,\n}) => {\n  const { columns, classNamePrefix, rowWidthOffset } = useContext(TableContext);\n  const rowRef = useRef<HTMLElement>(null);\n\n  const color =\n    rowRef &&\n    rowRef.current &&\n    rowRef.current.firstChild &&\n    getComputedStyle(rowRef.current.firstChild as Element).backgroundColor;\n\n  return (\n    <Header\n      id=\"window-table-header-ref\"\n      className={`${classNamePrefix}table-header`}\n      style={{ backgroundColor: color }}\n    >\n      <HeaderRow\n        style={{\n          display: 'flex',\n          width: `calc(100% - ${rowWidthOffset}px)`,\n        }}\n        className={`${classNamePrefix}table-header-row`}\n        ref={rowRef}\n      >\n        {children}\n        {columns.map(column => {\n          const { key, width, title, HeaderCell = DefaultHeaderCell } = column;\n          return (\n            <HeaderCell\n              key={`header${key}`}\n              style={{\n                width: `${width}px`,\n                display: 'inline-block',\n                flexGrow: width,\n              }}\n              className={`${classNamePrefix}table-header-cell`}\n              column={column}\n            >\n              {title}\n            </HeaderCell>\n          );\n        })}\n      </HeaderRow>\n    </Header>\n  );\n};\n\nconst TableBodyRenderer: React.FunctionComponent = ({ children, ...props }) => {\n  const { Table, classNamePrefix, tableClassName, Body } = useContext(\n    TableContext\n  );\n\n  return (\n    <Table {...props} className={tableClassName}>\n      <Body className={`${classNamePrefix}table-body`}>{children}</Body>\n    </Table>\n  );\n};\n\nconst WindowTable = React.forwardRef(\n  <T extends any = any>(\n    {\n      columns,\n      data,\n      rowHeight = 40,\n      height,\n      width,\n      overscanCount = 1,\n      disableHeader = false,\n      style = {},\n      Cell = 'div',\n      HeaderCell = 'div',\n      Table = 'div',\n      Header = 'div',\n      HeaderRow = 'div',\n      Row = 'div',\n      Body = 'div',\n      className = '',\n      rowClassName = 'table-row',\n      classNamePrefix = '',\n      debounceWait = 0,\n      headerCellInnerElementType = 'div',\n      tableCellInnerElementType = 'div',\n      variableSizeRows = false,\n      tableOuterRef,\n      tableOuterElementType,\n      ...rest\n    }: WindowTableProps<T>,\n    ref: React.Ref<ReactWindow.VariableSizeList>\n  ) => {\n    const localRef = useRef<any>();\n    ref = ref || localRef;\n    const [headerHeight, setHeaderHeight] = useState(0);\n\n    const measurerRowRef = useRef<HTMLElement>(null);\n    const tableClassName = `${classNamePrefix}table ${className}`;\n\n    const columnWidthsSum = columns.reduce((sum, { width }) => sum + width, 0);\n\n    const [dimensions, measure] = useTableMeasurer();\n\n    const [tableHeight, tableWidth] = dimensions.table;\n\n    const bodyHeight: number = (height || tableHeight) - headerHeight;\n    const effectiveWidth = width || Math.max(columnWidthsSum, tableWidth);\n\n    const rowWidth =\n      (measurerRowRef.current && measurerRowRef.current.clientWidth) ||\n      tableWidth;\n    const rowWidthOffset = tableWidth - rowWidth;\n\n    const [sizeMap, setSizeMap] = useState({} as any);\n    const getItemSize = (index: number) => {\n      if (!variableSizeRows) {\n        return sizeMap[0] || rowHeight;\n      }\n      return sizeMap[index] || rowHeight;\n    };\n\n    const tblCtx = {\n      columns,\n      data,\n      Cell,\n      Row,\n      Table,\n      Body,\n      classNamePrefix,\n      tableClassName,\n      rowClassName,\n      rowWidthOffset,\n      variableSizeRows,\n      setSize: (index: any, height: any) => {\n        if (!height) {\n          return;\n        }\n        // console.log(sizeMap, index, height);\n        setSizeMap((map: any) => ({\n          ...map,\n          [index]: Math.max(height, map[index] || 0),\n        }));\n        (ref as any)?.current?.resetAfterIndex?.(index);\n      },\n    };\n\n    const first = sizeMap[0];\n    useEffect(() => {\n      setHeaderHeight(\n        document.querySelector('#window-table-header-ref')?.scrollHeight || 0\n      );\n    }, [first]);\n\n    return (\n      <div\n        style={{\n          height: height ? `${height}px` : '100%',\n          width: width ? `${width}px` : '100%',\n          overflow: 'auto',\n          maxHeight: '100vh', // By default, table height will be bounded by 100% of viewport height\n          minHeight: '200px', // By default, table will have a minimum height\n          ...style,\n        }}\n        {...rest}\n      >\n        <TableContext.Provider value={tblCtx}>\n          <div>\n            {!disableHeader && tableWidth > 0 && (\n              <Table\n                style={{ width: `${effectiveWidth}px`, marginBottom: 0 }}\n                className={tableClassName}\n              >\n                <HeaderRowRenderer\n                  Header={Header}\n                  HeaderRow={HeaderRow}\n                  HeaderCell={HeaderCell}\n                />\n              </Table>\n            )}\n            {!!data.length && (\n              <VariableSizeList\n                ref={ref}\n                height={bodyHeight}\n                itemCount={data.length}\n                itemSize={getItemSize}\n                width={effectiveWidth}\n                innerElementType={TableBodyRenderer}\n                overscanCount={overscanCount}\n                outerRef={tableOuterRef}\n                outerElementType={tableOuterElementType}\n              >\n                {MemoRowRenderer}\n              </VariableSizeList>\n            )}\n          </div>\n        </TableContext.Provider>\n\n        {(!height || !width) && (\n          /*Measure table dimensions only if explicit height or width are not supplied*/\n          <Measurer\n            measure={measure}\n            entity=\"table\"\n            debounceWait={debounceWait}\n          />\n        )}\n      </div>\n    );\n  }\n);\n\ndeclare function WindowTableType<T>(\n  props: WindowTableProps<T>\n): ReactElement<T>;\n\nexport default (memo(\n  WindowTable,\n  areTablePropsEqual\n) as unknown) as typeof WindowTableType;\n","import * as React from 'react';\nimport WindowTable from './WindowTable';\nimport { Html5TableProps } from './core/types';\n\nconst getTHead = (headerClassName: string = '') => {\n  const THead: React.FunctionComponent<React.HTMLAttributes<\n    HTMLTableSectionElement\n  >> = props => {\n    return (\n      <thead {...props} className={`${headerClassName} ${props.className}`} />\n    );\n  };\n  return THead;\n};\n\nfunction Html5Table<T = any>({\n  headerClassName,\n  ...props\n}: Html5TableProps<T>) {\n  return (\n    <WindowTable<T>\n      Cell=\"td\"\n      HeaderCell=\"th\"\n      Header={getTHead(headerClassName)}\n      HeaderRow=\"tr\"\n      Row=\"tr\"\n      Body=\"tbody\"\n      Table=\"table\"\n      headerCellInnerElementType=\"th\"\n      tableCellInnerElementType=\"td\"\n      {...props}\n    />\n  );\n}\n\nexport default Html5Table;\n","import * as React from 'react';\nimport debounce from 'lodash.debounce';\n\nconst { useState, useMemo } = React;\n\n/**\n * A hook giving a combination of immediate and debounced state\n * @param initialState\n * @param wait\n */\nexport function useDebouncedState(\n  initialState: any,\n  wait: number = 100\n): [any, any, (state: any) => void] {\n  const [immediateState, setImmediateState] = useState(initialState);\n  const [debouncedState, setState] = useState(initialState);\n\n  const setDebouncedState = useMemo(() => debounce(setState, wait), [wait]);\n\n  const setCombinedState = (state: any) => {\n    setDebouncedState.cancel();\n    setImmediateState(state);\n    setDebouncedState(state);\n  };\n\n  return [immediateState, debouncedState, setCombinedState];\n}\n\ntype UseFilter = (\n  filterFn: (data: Array<Object>, filterText: string) => Array<Object>,\n  data: Array<Object>,\n  filterText: string\n) => Array<Object>;\n\n/**\n * A hook for fast data filtering\n * @param filterFn\n * @param data\n * @param filterText\n */\nexport const useFilter: UseFilter = function(filterFn, data, filterText) {\n  return useMemo(() => {\n    if (!filterText.length) {\n      return data;\n    }\n    return filterFn(data, filterText);\n  }, [data, filterFn, filterText]);\n};\n\n/**\n * A simple utility for creating functions for trivial data filtering\n * @param fields\n */\nexport function createFilter(fields: string[]) {\n  return (originalData: any, filterText: string) =>\n    originalData.filter((data: any) =>\n      fields.some((field: string) => {\n        const fieldData = data[field] ? String(data[field]) : '';\n        return !!(\n          filterText &&\n          fieldData.toLowerCase().includes(filterText.trim().toLowerCase())\n        );\n      })\n    );\n}\n"],"names":["createDetectElementResize","nonce","_window","window","global","requestFrame","fn","requestAnimationFrame","setTimeout","cancelFrame","id","cancelAnimationFrame","clearTimeout","resetTriggers","element","triggers","__resizeTriggers__","expand","firstElementChild","contract","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollTop","scrollHeight","style","width","offsetWidth","height","offsetHeight","checkTriggers","__resizeLast__","scrollListener","e","target","className","indexOf","__resizeRAF__","__resizeListeners__","forEach","call","createStyles","doc","getElementById","css","head","getElementsByTagName","createElement","type","setAttribute","styleSheet","cssText","appendChild","createTextNode","addResizeListener","ownerDocument","elementStyle","getComputedStyle","position","innerHTML","addEventListener","push","removeResizeListener","splice","length","removeEventListener","__animationListener__","removeChild","AutoSizer","onResize","props","_parentNode","paddingLeft","parseInt","paddingRight","paddingTop","paddingBottom","newHeight","newWidth","state","setState","autoSizer","_autoSizer","componentDidMount","parentNode","defaultView","HTMLElement","_detectElementResize","_onResize","componentWillUnmount","render","outerStyle","overflow","Component","innerElementType","React","ref","_setRef","useMemo","useReducer","cache","header","row","table","reducer","entity","dimensions","JSON","stringify","Measurer","measure","debounceWait","debounced","debounce","leading","dispatch","useTableMeasurer","objectProps","otherProps","areTablePropsEqual","prev","next","areObjectPropsEqual","every","propName","TableContext","createContext","columns","data","Cell","Row","Table","Body","classNamePrefix","tableClassName","rowClassName","rowWidthOffset","setSize","variableSizeRows","RowCells","datum","index","map","column","i","key","extraProps","flexGrow","display","boxSizing","RowRenderer","useContext","rowClassNameStr","setSizeRef","useRef","setSizeCb","useCallback","el","document","querySelector","getBoundingClientRect","current","useEffect","MemoRowRenderer","memo","areEqual","HeaderRowRenderer","Header","HeaderRow","DefaultHeaderCell","HeaderCell","children","rowRef","color","firstChild","backgroundColor","title","TableBodyRenderer","WindowTable","rowHeight","overscanCount","disableHeader","tableOuterRef","tableOuterElementType","rest","localRef","useState","headerHeight","setHeaderHeight","measurerRowRef","columnWidthsSum","reduce","sum","tableHeight","tableWidth","bodyHeight","effectiveWidth","Math","max","rowWidth","clientWidth","sizeMap","setSizeMap","getItemSize","tblCtx","resetAfterIndex","first","maxHeight","minHeight","Provider","value","marginBottom","VariableSizeList","itemCount","itemSize","outerRef","outerElementType","getTHead","headerClassName","THead","Html5Table","headerCellInnerElementType","tableCellInnerElementType","useDebouncedState","initialState","wait","immediateState","setImmediateState","debouncedState","setDebouncedState","setCombinedState","cancel","useFilter","filterFn","filterText","createFilter","fields","originalData","filter","some","field","fieldData","String","toLowerCase","includes","trim"],"mappings":"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"}